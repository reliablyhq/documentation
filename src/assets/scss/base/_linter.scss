// This styles are made for linting and should trigger when something is wrong.

// Styling links without a trailing slash
// Only internal links, excluding links to an anchor
a:not([href*="//"]:not([href*="reliably.com"])):not([href$="/"]):not([href*="#"]) {
  background-color: #bd9ad4 !important;
  border: 3px solid #960af5 !important;
}

a:not([href*="//"]:not([href*="reliably.com"])):not([href$="/"]):not([href*="#"])::after {
  content: "This link is missing a trailing slash"; 
  border-left: 3px solid #960af5 !important;
  color: #960af5 !important;
}
// How that hideous thing above works...
// 1. We want to style internal links only.
// [href*="//"] selects links with the http(s):// prefix
// So we exclude internal links starting with an absolute or relative path
// We add :not([href*="reliably.com"]) to exclude links which contain reliably.com
// That way, we target all external links, wether they look like /getting-started/install
// or https://reliably.com/docs/getting-started/install
// We negate this to target only internal links.
// That's what :not([href*="//"]:not([href*="reliably.com"])) does
// 2. Among those, we target the ones which miss a trailing slash
// That's what :not([href$="/"]) does.
// But is still targets /getting-started/install/#quick-install-guide
// Which is a legitimate link (and is generated by Gridsome in the right-hand
// sidebar).
// 3. Exclude anchor links
// :not([href*="#"]) excludes all links with a # in them.
// It might be a bit wide, but it should be enough.
// The ::after pseudo-element uses its own rule, because Sass & seemed to break.

// Styling broken images
img {
  &::before { 
    content: " ";
  
    top: -10px;
    left: 0;
  
    display: flex;
    align-items: center;
    justify-content: center;
    height: 10rem;
    padding: 1em;
  
    width: 100%;
    
    background-color: rgb(230, 230, 230);
    border: 2px dotted var(--red);
    border-radius: 5px;
  }
  
  &::after { 
    content: "(This image seems to be missing)";
  
    position: absolute;
    bottom: 5px;
    left: 0;
  
    display: block;
    width: 100%;
  
    color: rgb(100, 100, 100);
    font-size: .8em;
    font-style: normal;
    text-align: center;
  }
}